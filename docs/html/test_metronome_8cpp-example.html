<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NiCMidi: test_metronome.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NiCMidi
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A MIDI library derived from J.D.Koftinoff jdksmidi</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('test_metronome_8cpp-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">test_metronome.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>A command line example of the features of the <a class="el" href="class_metronome.html" title="A MIDITickComponent implementing a metronome.">Metronome</a> class. It creates an instance of the class and allows the user to interact with it. You can start and stop the metronome, adjust tempo, measure counting, subdivide the metronome beats and adjust other parameters.</p>
<p>Requires functions.cpp, which contains command line I/O functions.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> *   Example file for NiCMidi - A C++ Class Library for MIDI</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   Copyright (C) 2020  Nicola Cassetta</span></div>
<div class="line"><span class="comment"> *   https://github.com/ncassetta/NiCMidi</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   This file is part of NiCMidi.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   NiCMidi is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment"> *   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><span class="comment"> *   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment"> *   (at your option) any later version.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   NiCMidi is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment"> *   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment"> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment"> *   GNU General Public License for more details.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><span class="comment"> *   along with NiCMidi.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">  A command line example of the features of the Metronome class.</span></div>
<div class="line"><span class="comment">  It creates an instance of the class and allows the user to interact</span></div>
<div class="line"><span class="comment">  with it. You can start and stop the metronome, adjust tempo,</span></div>
<div class="line"><span class="comment">  measure counting,subdivide the metronome beats and adjust other</span></div>
<div class="line"><span class="comment">  parameters.</span></div>
<div class="line"><span class="comment">  Requires functions.cpp, which contains command line I/O functions.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;../include/manager.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/metronome.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;functions.h&quot;</span>                  <span class="comment">// helper functions for input parsing and output</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//                        G L O B A L S                         //</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><a name="_a0"></a><a class="code" href="class_metronome.html">Metronome</a> metro;                                <span class="comment">// a Metronome (without GUI notifier)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">string</span> command, par1, par2;              <span class="comment">// used by GetCommand() for parsing the user input</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> helpstring[] =                       <span class="comment">// shown by the help command</span></div>
<div class="line"><span class="stringliteral">&quot;\nAvailable commands:\n\</span></div>
<div class="line"><span class="stringliteral">   ports               : Enumerates MIDI In and OUT ports\n\</span></div>
<div class="line"><span class="stringliteral">   start               : Starts the metronome\n\</span></div>
<div class="line"><span class="stringliteral">   stop                : Stops the metronome\n\</span></div>
<div class="line"><span class="stringliteral">   tempo bpm           : Sets the metronome tempo (bpm is a float)\n\</span></div>
<div class="line"><span class="stringliteral">   tscale scale        : Sets global tempo scale. scale is in percent\n\</span></div>
<div class="line"><span class="stringliteral">                         (ex. 200 = twice faster, 50 = twice slower)\n\</span></div>
<div class="line"><span class="stringliteral">   subd n              : Sets the number of subdivisions (n can be\n\</span></div>
<div class="line"><span class="stringliteral">                         0, 2, 3, 4, 5, 6, 0 disables subdivisions)\n\</span></div>
<div class="line"><span class="stringliteral">   meas n              : Sets the number of beats of a measure (0 disables\n\</span></div>
<div class="line"><span class="stringliteral">                         measure clicks)\n\</span></div>
<div class="line"><span class="stringliteral">   measnote nn         : Sets the MIDI note for first beat of the measure\n\</span></div>
<div class="line"><span class="stringliteral">   beatnote nn         : Sets the MIDI note for ordinary beats\n\</span></div>
<div class="line"><span class="stringliteral">   subdnote nn         : Sets the MIDI note for subdivisions\n\</span></div>
<div class="line"><span class="stringliteral">   outport port        : Sets the MIDI out port\n\</span></div>
<div class="line"><span class="stringliteral">   outchan ch          : Sets the MIDI out channel\n\</span></div>
<div class="line"><span class="stringliteral">   status              : Prints the status of the metronome\n\</span></div>
<div class="line"><span class="stringliteral">   help                : Prints this help screen\n\</span></div>
<div class="line"><span class="stringliteral">   quit                : Exits\n\</span></div>
<div class="line"><span class="stringliteral">MIDI channels are numbered 0 .. 15\n\</span></div>
<div class="line"><span class="stringliteral">All commands can be given during playback\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//                              M A I N                         //</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv ) {</div>
<div class="line">    <span class="comment">// tests if a MIDI out port is present in the system</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a1"></a><a class="code" href="class_m_i_d_i_manager.html#a330e53d746e07835d7e7bd7358825835">MIDIManager::GetNumMIDIOuts</a>() == 0) {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;This program has no functionality without MIDI out ports!\n&quot;</span> &lt;&lt;</div>
<div class="line">                <span class="stringliteral">&quot;Press a key to quit\n&quot;</span>;</div>
<div class="line">        cin.get();</div>
<div class="line">        <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// adds the metronome to the MIDIManager queue</span></div>
<div class="line">    <a name="a2"></a><a class="code" href="class_m_i_d_i_manager.html#ab79f1ed8b7f7ea3b55b95e2d9a0b51e7">MIDIManager::AddMIDITick</a>(&amp;metro);</div>
<div class="line"> </div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;TYPE help TO GET A LIST OF AVAILABLE COMMANDS\n\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">while</span> (command != <span class="stringliteral">&quot;quit&quot;</span>) {                     <span class="comment">// main loop</span></div>
<div class="line">        GetCommand();                               <span class="comment">// gets user input and splits it into command, par1, par2</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(command == <span class="stringliteral">&quot;&quot;</span>)                           <span class="comment">// empty command</span></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;ports&quot;</span>) {                   <span class="comment">// enumerates the midi ports</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a3"></a><a class="code" href="class_m_i_d_i_manager.html#ac5fbf7c0255b7bdecc32a5b06b65cb0b">MIDIManager::GetNumMIDIIns</a>()) {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;MIDI IN PORTS:&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_m_i_d_i_manager.html#ac5fbf7c0255b7bdecc32a5b06b65cb0b">MIDIManager::GetNumMIDIIns</a>(); i++)</div>
<div class="line">                    cout &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a name="a4"></a><a class="code" href="class_m_i_d_i_manager.html#ad384cf0d531dddc0c400a2f3df778ff7">MIDIManager::GetMIDIInName</a>( i ) &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;NO MIDI IN PORTS&quot;</span> &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI OUT PORTS:&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_m_i_d_i_manager.html#a330e53d746e07835d7e7bd7358825835">MIDIManager::GetNumMIDIOuts</a>(); i++)</div>
<div class="line">                cout &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a name="a5"></a><a class="code" href="class_m_i_d_i_manager.html#a2cfb307a00244fcf8b0be41df5227ebd">MIDIManager::GetMIDIOutName</a>( i ) &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;start&quot;</span>) {               <span class="comment">// starts the metronome</span></div>
<div class="line">            metro.<a name="a6"></a><a class="code" href="class_metronome.html#a5ae7bdfcba8c9e50d9dc689a9b222457">Start</a>();</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Metronome started&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;stop&quot;</span>) {               <span class="comment">// stops the metronome</span></div>
<div class="line">            metro.<a name="a7"></a><a class="code" href="class_metronome.html#a301af072c227c7f4fbe6059ec838485a">Stop</a>();</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Metronome stopped at &quot;</span> &lt;&lt; metro.<a name="a8"></a><a class="code" href="class_metronome.html#aa5ac5c1ee3a0a9d5ccb1bebbb47b0d54">GetCurrentMeasure</a>() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span></div>
<div class="line">                 &lt;&lt; metro.<a name="a9"></a><a class="code" href="class_metronome.html#a1bc45df657e0b68ccac370df00adee7e">GetCurrentBeat</a>() &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;tempo&quot;</span>) {              <span class="comment">// changes the metronome tempo</span></div>
<div class="line">            <span class="keywordtype">float</span> tempo = atof(par1.c_str());</div>
<div class="line">            <span class="keywordflow">if</span> (metro.<a name="a10"></a><a class="code" href="class_metronome.html#ac9b0a9e79f2098d37ee526546b1e2a65">SetTempo</a>(tempo)) {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Tempo set to &quot;</span> &lt;&lt; tempo &lt;&lt;</div>
<div class="line">                        <span class="stringliteral">&quot;  Effective tempo: &quot;</span> &lt;&lt; metro.<a name="a11"></a><a class="code" href="class_metronome.html#afb72b905b9ce2655a87bbf826afd7213">GetTempoWithScale</a>() &lt;&lt; <span class="stringliteral">&quot; bpm&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Invalid tempo&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;tscale&quot;</span>) {             <span class="comment">// scales the metronome tempo</span></div>
<div class="line">            <span class="keywordtype">int</span> scale = atoi(par1.c_str());</div>
<div class="line">            <span class="keywordflow">if</span> (metro.<a name="a12"></a><a class="code" href="class_metronome.html#a261815d99d8435151b9c995cf0919bbe">SetTempoScale</a>(scale)) {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Tempo scale : &quot;</span> &lt;&lt; scale &lt;&lt;</div>
<div class="line">                        <span class="stringliteral">&quot;%  Effective tempo: &quot;</span> &lt;&lt; metro.<a class="code" href="class_metronome.html#afb72b905b9ce2655a87bbf826afd7213">GetTempoWithScale</a>() &lt;&lt; <span class="stringliteral">&quot; bpm&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Invalid tempo scale&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;subd&quot;</span>) {               <span class="comment">// sets the number of subdivision of each beat</span></div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type = atoi(par1.c_str());          <span class="comment">// 0 disables subdivision clicks</span></div>
<div class="line">            <span class="keywordflow">if</span> (metro.<a name="a13"></a><a class="code" href="class_metronome.html#af372e93dcae98b855ff255a33db42689">SetSubdType</a>(type)) {</div>
<div class="line">                <span class="keywordflow">if</span> (type == 0)</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;Subdivision click disabled&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                     cout &lt;&lt; <span class="stringliteral">&quot;Number of subdivisions set to &quot;</span> &lt;&lt; type &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Invalid number of subdivisions&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;meas&quot;</span>) {               <span class="comment">// sets the number of beats of a measure</span></div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> beats = atoi(par1.c_str());         <span class="comment">// 0 disables measure clicks</span></div>
<div class="line">            metro.<a name="a14"></a><a class="code" href="class_metronome.html#a796d8f44bc4c20b01f6661b496f89aea">SetTimeSigNumerator</a>(beats);</div>
<div class="line">            <span class="keywordflow">if</span> (beats == 0)</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;First beat disabled&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Beats set to &quot;</span> &lt;&lt; beats &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;measnote&quot;</span>) {           <span class="comment">// sets the note for 1st beat of a measure</span></div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> note = atoi(par1.c_str()) &amp; 0x7f;</div>
<div class="line">            metro.<a name="a15"></a><a class="code" href="class_metronome.html#a66d0441c4aa2ba065b4c00123eabb86f">SetMeasNote</a>(note);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;First beat note set to &quot;</span> &lt;&lt; note &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;beatnote&quot;</span>) {           <span class="comment">// sets the note for ordinary beats</span></div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> note = atoi(par1.c_str()) &amp; 0x7f;</div>
<div class="line">            metro.<a name="a16"></a><a class="code" href="class_metronome.html#ab5de440963325f88227f75eec8a5fabb">SetBeatNote</a>(note);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Beat note set to &quot;</span> &lt;&lt; note &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;subdnote&quot;</span>) {           <span class="comment">// sets the note for subdivisions</span></div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> note = atoi(par1.c_str()) &amp; 0x7f;</div>
<div class="line">            metro.<a name="a17"></a><a class="code" href="class_metronome.html#a4a29fbd7311f16125353da39d0f3c93a">SetSubdNote</a>(note);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Subdivision note set to &quot;</span> &lt;&lt; note &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;outport&quot;</span>) {            <span class="comment">// changes the midi out port</span></div>
<div class="line">            <span class="keywordtype">int</span> port = atoi(par1.c_str());</div>
<div class="line">            <span class="keywordflow">if</span> (metro.<a name="a18"></a><a class="code" href="class_metronome.html#a0a1aec1fa5ab65030b54ad11e296b06f">SetOutPort</a>(port))</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Assigned out port n. &quot;</span> &lt;&lt; port &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Invalid port number&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;outchan&quot;</span>) {            <span class="comment">// changes the midi out chan</span></div>
<div class="line">            <span class="keywordtype">int</span> chan = atoi(par1.c_str());</div>
<div class="line">            <span class="keywordflow">if</span> (metro.<a name="a19"></a><a class="code" href="class_metronome.html#a2fa6f567699ace2c0518bda71b64b322">SetOutChannel</a>(chan))</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Assigned out channel n. &quot;</span> &lt;&lt; (int)chan &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Invalid channel number&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;status&quot;</span>) {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;\nMETRONOME STATUS:\n&quot;</span>;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI out port:             &quot;</span> &lt;&lt; <a class="code" href="class_m_i_d_i_manager.html#a2cfb307a00244fcf8b0be41df5227ebd">MIDIManager::GetMIDIOutName</a>(metro.<a name="a20"></a><a class="code" href="class_metronome.html#aefa4ab925b250e2110757fd8227ba57e">GetOutPort</a>()) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI out channel:          &quot;</span> &lt;&lt; int(metro.<a name="a21"></a><a class="code" href="class_metronome.html#a72a82ba654917ec51d6c5d57a837ddd9">GetOutChannel</a>()) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Tempo:                     &quot;</span> &lt;&lt; metro.<a name="a22"></a><a class="code" href="class_metronome.html#a426803a7f3d4a108aeea9d7259787dad">GetTempoWithoutScale</a>() &lt;&lt; <span class="stringliteral">&quot; bpm&quot;</span> &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Tempo scale:               &quot;</span> &lt;&lt; metro.<a name="a23"></a><a class="code" href="class_metronome.html#ae5cdb9d7789470d386fc946a70313dc9">GetTempoScale</a>() &lt;&lt; <span class="stringliteral">&quot;% (effective tempo: &quot;</span> &lt;&lt;</div>
<div class="line">                    metro.<a class="code" href="class_metronome.html#afb72b905b9ce2655a87bbf826afd7213">GetTempoWithScale</a>() &lt;&lt; <span class="stringliteral">&quot; bpm)&quot;</span> &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Measure beats:             &quot;</span> &lt;&lt; int(metro.<a name="a24"></a><a class="code" href="class_metronome.html#a07c763885d5ffa668fbf3b916e8c3826">GetTimeSigNumerator</a>());</div>
<div class="line">            cout &lt;&lt; (metro.<a class="code" href="class_metronome.html#a07c763885d5ffa668fbf3b916e8c3826">GetTimeSigNumerator</a>() == 0 ? <span class="stringliteral">&quot; (disabled)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Subdivision:               &quot;</span> &lt;&lt; int(metro.<a name="a25"></a><a class="code" href="class_metronome.html#a584f58ed5614c46510a0de9e82f3ea4c">GetSubdType</a>());</div>
<div class="line">            cout &lt;&lt; (metro.<a class="code" href="class_metronome.html#a584f58ed5614c46510a0de9e82f3ea4c">GetSubdType</a>() == 0 ? <span class="stringliteral">&quot; (disabled)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Measure beat note:         &quot;</span> &lt;&lt; int(metro.<a name="a26"></a><a class="code" href="class_metronome.html#ac27f7ceb841c5e2c955363e8591ce020">GetMeasNote</a>()) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Ordinary beat note:        &quot;</span> &lt;&lt; int(metro.<a name="a27"></a><a class="code" href="class_metronome.html#a6a9ac9279b8076ba0c39fd39d87c951d">GetBeatNote</a>()) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Subdivision note:          &quot;</span> &lt;&lt; int(metro.<a name="a28"></a><a class="code" href="class_metronome.html#a2d00c9b809a2bcfd2f845ae1fe828acf">GetSubdNote</a>()) &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;help&quot;</span>)                 <span class="comment">// prints help screen</span></div>
<div class="line">            cout &lt;&lt; helpstring;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command != <span class="stringliteral">&quot;quit&quot;</span> )                <span class="comment">// unrecognized command</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unrecognized command&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_a2cfb307a00244fcf8b0be41df5227ebd"><div class="ttname"><a href="class_m_i_d_i_manager.html#a2cfb307a00244fcf8b0be41df5227ebd">MIDIManager::GetMIDIOutName</a></div><div class="ttdeci">static const std::string &amp; GetMIDIOutName(unsigned int n)</div><div class="ttdoc">Returns the system name of the given MIDI out port.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_a330e53d746e07835d7e7bd7358825835"><div class="ttname"><a href="class_m_i_d_i_manager.html#a330e53d746e07835d7e7bd7358825835">MIDIManager::GetNumMIDIOuts</a></div><div class="ttdeci">static unsigned int GetNumMIDIOuts()</div><div class="ttdoc">Returns the number of MIDI out ports in the system.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_ab79f1ed8b7f7ea3b55b95e2d9a0b51e7"><div class="ttname"><a href="class_m_i_d_i_manager.html#ab79f1ed8b7f7ea3b55b95e2d9a0b51e7">MIDIManager::AddMIDITick</a></div><div class="ttdeci">static void AddMIDITick(MIDITickComponent *tick)</div><div class="ttdoc">Inserts a MIDITickComponent object into the queue.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_ac5fbf7c0255b7bdecc32a5b06b65cb0b"><div class="ttname"><a href="class_m_i_d_i_manager.html#ac5fbf7c0255b7bdecc32a5b06b65cb0b">MIDIManager::GetNumMIDIIns</a></div><div class="ttdeci">static unsigned int GetNumMIDIIns()</div><div class="ttdoc">Returns the number of MIDI in ports in the system.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_ad384cf0d531dddc0c400a2f3df778ff7"><div class="ttname"><a href="class_m_i_d_i_manager.html#ad384cf0d531dddc0c400a2f3df778ff7">MIDIManager::GetMIDIInName</a></div><div class="ttdeci">static const std::string &amp; GetMIDIInName(unsigned int n)</div><div class="ttdoc">Returns the system name of the given MIDI in port.</div></div>
<div class="ttc" id="aclass_metronome_html"><div class="ttname"><a href="class_metronome.html">Metronome</a></div><div class="ttdoc">A MIDITickComponent implementing a metronome.</div><div class="ttdef"><b>Definition:</b> metronome.h:48</div></div>
<div class="ttc" id="aclass_metronome_html_a07c763885d5ffa668fbf3b916e8c3826"><div class="ttname"><a href="class_metronome.html#a07c763885d5ffa668fbf3b916e8c3826">Metronome::GetTimeSigNumerator</a></div><div class="ttdeci">unsigned char GetTimeSigNumerator() const</div><div class="ttdoc">Returns the numerator of the current timesig.</div><div class="ttdef"><b>Definition:</b> metronome.h:90</div></div>
<div class="ttc" id="aclass_metronome_html_a0a1aec1fa5ab65030b54ad11e296b06f"><div class="ttname"><a href="class_metronome.html#a0a1aec1fa5ab65030b54ad11e296b06f">Metronome::SetOutPort</a></div><div class="ttdeci">bool SetOutPort(unsigned int port)</div><div class="ttdoc">Sets the MIDI out port for the metronome clicks.</div></div>
<div class="ttc" id="aclass_metronome_html_a1bc45df657e0b68ccac370df00adee7e"><div class="ttname"><a href="class_metronome.html#a1bc45df657e0b68ccac370df00adee7e">Metronome::GetCurrentBeat</a></div><div class="ttdeci">unsigned int GetCurrentBeat() const</div><div class="ttdoc">Returns current beat in the measure (1st beat is 0).</div><div class="ttdef"><b>Definition:</b> metronome.h:68</div></div>
<div class="ttc" id="aclass_metronome_html_a261815d99d8435151b9c995cf0919bbe"><div class="ttname"><a href="class_metronome.html#a261815d99d8435151b9c995cf0919bbe">Metronome::SetTempoScale</a></div><div class="ttdeci">bool SetTempoScale(unsigned int scale)</div><div class="ttdoc">Sets the tempo scale (scale_ is the percentage: 100 = no scaling, 200 = twice faster,...</div></div>
<div class="ttc" id="aclass_metronome_html_a2d00c9b809a2bcfd2f845ae1fe828acf"><div class="ttname"><a href="class_metronome.html#a2d00c9b809a2bcfd2f845ae1fe828acf">Metronome::GetSubdNote</a></div><div class="ttdeci">unsigned char GetSubdNote() const</div><div class="ttdoc">Returns the MIDI note number for the subdivision click.</div><div class="ttdef"><b>Definition:</b> metronome.h:85</div></div>
<div class="ttc" id="aclass_metronome_html_a2fa6f567699ace2c0518bda71b64b322"><div class="ttname"><a href="class_metronome.html#a2fa6f567699ace2c0518bda71b64b322">Metronome::SetOutChannel</a></div><div class="ttdeci">bool SetOutChannel(unsigned char chan)</div><div class="ttdoc">Sets the MIDI channel for the metronome clicks.</div></div>
<div class="ttc" id="aclass_metronome_html_a301af072c227c7f4fbe6059ec838485a"><div class="ttname"><a href="class_metronome.html#a301af072c227c7f4fbe6059ec838485a">Metronome::Stop</a></div><div class="ttdeci">virtual void Stop()</div><div class="ttdoc">Stops the metronome.</div></div>
<div class="ttc" id="aclass_metronome_html_a426803a7f3d4a108aeea9d7259787dad"><div class="ttname"><a href="class_metronome.html#a426803a7f3d4a108aeea9d7259787dad">Metronome::GetTempoWithoutScale</a></div><div class="ttdeci">float GetTempoWithoutScale() const</div><div class="ttdoc">Returns current tempo (BPM) without scaling.</div><div class="ttdef"><b>Definition:</b> metronome.h:72</div></div>
<div class="ttc" id="aclass_metronome_html_a4a29fbd7311f16125353da39d0f3c93a"><div class="ttname"><a href="class_metronome.html#a4a29fbd7311f16125353da39d0f3c93a">Metronome::SetSubdNote</a></div><div class="ttdeci">void SetSubdNote(unsigned char note)</div><div class="ttdoc">Sets the MIDI note number for the subdivision click.</div></div>
<div class="ttc" id="aclass_metronome_html_a584f58ed5614c46510a0de9e82f3ea4c"><div class="ttname"><a href="class_metronome.html#a584f58ed5614c46510a0de9e82f3ea4c">Metronome::GetSubdType</a></div><div class="ttdeci">unsigned char GetSubdType() const</div><div class="ttdoc">Returns the subdivision type. It can be 0 (subd clicks disabled), 2, 3, 4, 5, 6.</div><div class="ttdef"><b>Definition:</b> metronome.h:87</div></div>
<div class="ttc" id="aclass_metronome_html_a5ae7bdfcba8c9e50d9dc689a9b222457"><div class="ttname"><a href="class_metronome.html#a5ae7bdfcba8c9e50d9dc689a9b222457">Metronome::Start</a></div><div class="ttdeci">virtual void Start()</div><div class="ttdoc">Starts the metronome.</div></div>
<div class="ttc" id="aclass_metronome_html_a66d0441c4aa2ba065b4c00123eabb86f"><div class="ttname"><a href="class_metronome.html#a66d0441c4aa2ba065b4c00123eabb86f">Metronome::SetMeasNote</a></div><div class="ttdeci">void SetMeasNote(unsigned char note)</div><div class="ttdoc">Sets the MIDI note number for the measure click (the 1st beat of the measure).</div></div>
<div class="ttc" id="aclass_metronome_html_a6a9ac9279b8076ba0c39fd39d87c951d"><div class="ttname"><a href="class_metronome.html#a6a9ac9279b8076ba0c39fd39d87c951d">Metronome::GetBeatNote</a></div><div class="ttdeci">unsigned char GetBeatNote() const</div><div class="ttdoc">Returns the MIDI note number for the ordinary beat click.metronome.</div><div class="ttdef"><b>Definition:</b> metronome.h:83</div></div>
<div class="ttc" id="aclass_metronome_html_a72a82ba654917ec51d6c5d57a837ddd9"><div class="ttname"><a href="class_metronome.html#a72a82ba654917ec51d6c5d57a837ddd9">Metronome::GetOutChannel</a></div><div class="ttdeci">unsigned char GetOutChannel() const</div><div class="ttdoc">Returns the number of the MIDI channel assigned to the metronome.</div><div class="ttdef"><b>Definition:</b> metronome.h:79</div></div>
<div class="ttc" id="aclass_metronome_html_a796d8f44bc4c20b01f6661b496f89aea"><div class="ttname"><a href="class_metronome.html#a796d8f44bc4c20b01f6661b496f89aea">Metronome::SetTimeSigNumerator</a></div><div class="ttdeci">void SetTimeSigNumerator(unsigned char n)</div><div class="ttdoc">Sets the numerator of the current timesig.</div></div>
<div class="ttc" id="aclass_metronome_html_aa5ac5c1ee3a0a9d5ccb1bebbb47b0d54"><div class="ttname"><a href="class_metronome.html#aa5ac5c1ee3a0a9d5ccb1bebbb47b0d54">Metronome::GetCurrentMeasure</a></div><div class="ttdeci">unsigned int GetCurrentMeasure() const</div><div class="ttdoc">Returns current measure (1st measure is 0).</div><div class="ttdef"><b>Definition:</b> metronome.h:66</div></div>
<div class="ttc" id="aclass_metronome_html_ab5de440963325f88227f75eec8a5fabb"><div class="ttname"><a href="class_metronome.html#ab5de440963325f88227f75eec8a5fabb">Metronome::SetBeatNote</a></div><div class="ttdeci">void SetBeatNote(unsigned char note)</div><div class="ttdoc">Sets the MIDI note number for the ordinary beat click.</div></div>
<div class="ttc" id="aclass_metronome_html_ac27f7ceb841c5e2c955363e8591ce020"><div class="ttname"><a href="class_metronome.html#ac27f7ceb841c5e2c955363e8591ce020">Metronome::GetMeasNote</a></div><div class="ttdeci">unsigned char GetMeasNote() const</div><div class="ttdoc">Returns the MIDI note number for the measure click.</div><div class="ttdef"><b>Definition:</b> metronome.h:81</div></div>
<div class="ttc" id="aclass_metronome_html_ac9b0a9e79f2098d37ee526546b1e2a65"><div class="ttname"><a href="class_metronome.html#ac9b0a9e79f2098d37ee526546b1e2a65">Metronome::SetTempo</a></div><div class="ttdeci">bool SetTempo(float t)</div><div class="ttdoc">TODO: Actually denominator is not implemented.</div></div>
<div class="ttc" id="aclass_metronome_html_ae5cdb9d7789470d386fc946a70313dc9"><div class="ttname"><a href="class_metronome.html#ae5cdb9d7789470d386fc946a70313dc9">Metronome::GetTempoScale</a></div><div class="ttdeci">unsigned int GetTempoScale() const</div><div class="ttdoc">Returns current tempo scale in percentage (100 = no scaling, 200 = twice faster, etc....</div><div class="ttdef"><b>Definition:</b> metronome.h:70</div></div>
<div class="ttc" id="aclass_metronome_html_aefa4ab925b250e2110757fd8227ba57e"><div class="ttname"><a href="class_metronome.html#aefa4ab925b250e2110757fd8227ba57e">Metronome::GetOutPort</a></div><div class="ttdeci">int GetOutPort() const</div><div class="ttdoc">Returns the number of the MIDI out port assigned to the .</div><div class="ttdef"><b>Definition:</b> metronome.h:76</div></div>
<div class="ttc" id="aclass_metronome_html_af372e93dcae98b855ff255a33db42689"><div class="ttname"><a href="class_metronome.html#af372e93dcae98b855ff255a33db42689">Metronome::SetSubdType</a></div><div class="ttdeci">bool SetSubdType(unsigned char type)</div><div class="ttdoc">Sets the subdivision type.</div></div>
<div class="ttc" id="aclass_metronome_html_afb72b905b9ce2655a87bbf826afd7213"><div class="ttname"><a href="class_metronome.html#afb72b905b9ce2655a87bbf826afd7213">Metronome::GetTempoWithScale</a></div><div class="ttdeci">float GetTempoWithScale() const</div><div class="ttdoc">Returns current tempo (BPM) taking into account scaling (this is the true actual tempo).</div><div class="ttdef"><b>Definition:</b> metronome.h:74</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
