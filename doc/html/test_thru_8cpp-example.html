<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NiCMidi: test_thru.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NiCMidi<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A MIDI library derived from J.D.Koftinoff jdksmidi</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('test_thru_8cpp-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">test_thru.cpp</div></div>
</div><!--header-->
<div class="contents">
<p >A command line example of the features of the <a class="el" href="class_m_i_d_i_thru.html" title="A MIDITickComponent which immediately echoes to an out MIDI port all messages incoming from an in MID...">MIDIThru</a> class. It creates an instance of the class and allows the user to interact with it. You can set the in and out ports and channels and the program change in the out channel; moreover you can print the passing MIDI messages with a MIDIrocessorPrinter.</p>
<p >Requires functions.cpp, which contains command line I/O functions.</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> *   Example file for NiCMidi - A C++ Class Library for MIDI</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   Copyright (C) 2021  Nicola Cassetta</span></div>
<div class="line"><span class="comment"> *   https://github.com/ncassetta/NiCMidi</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   This file is part of NiCMidi.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   NiCMidi is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment"> *   it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><span class="comment"> *   the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment"> *   (at your option) any later version.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   NiCMidi is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment"> *   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment"> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment"> *   GNU General Public License for more details.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   You should have received a copy of the GNU General Public License</span></div>
<div class="line"><span class="comment"> *   along with NiCMidi.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">  A command line example of the features of the MIDIThru class.</span></div>
<div class="line"><span class="comment">  It creates an instance of the class and allows the user to interact</span></div>
<div class="line"><span class="comment">  with it. You can set the in and out ports and channels and the</span></div>
<div class="line"><span class="comment">  program change in the out channel; moreover you can print the</span></div>
<div class="line"><span class="comment">  passing MIDI messages with a MIDIrocessorPrinter.</span></div>
<div class="line"><span class="comment">  Requires functions.cpp, which contains command line I/O functions.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;../include/manager.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/thru.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;functions.h&quot;</span>                  <span class="comment">// helper functions for input parsing and output</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//                        G L O B A L S                         //</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><a id="_a0" name="_a0"></a><a class="code hl_class" href="class_m_i_d_i_thru.html">MIDIThru</a>* thru;                                 <span class="comment">// a MIDIThru</span></div>
<div class="line"><a id="_a1" name="_a1"></a><a class="code hl_class" href="class_m_i_d_i_processor_printer.html">MIDIProcessorPrinter</a> printer;                   <span class="comment">// a MIDIProcessor which prints passing MIDI events</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">extern</span> <span class="keywordtype">string</span> command, par1, par2;              <span class="comment">// used by GetCommand() for parsing the user input</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> helpstring[] =                       <span class="comment">// shown by the help command</span></div>
<div class="line"><span class="stringliteral">&quot;\nAvailable commands:\n\</span></div>
<div class="line"><span class="stringliteral">   ports               : Enumerates MIDI IN and OUT ports\n\</span></div>
<div class="line"><span class="stringliteral">   outport port [chan] : Sets port as current thru output device\n\</span></div>
<div class="line"><span class="stringliteral">                         (default: port 0, chan all)\n\</span></div>
<div class="line"><span class="stringliteral">   inport port [chan]  : Sets port as current input device\n\</span></div>
<div class="line"><span class="stringliteral">                         (default: port 0, chan all)\n\</span></div>
<div class="line"><span class="stringliteral">   thru on/off         : Sets MIDI thru on/off\n\</span></div>
<div class="line"><span class="stringliteral">   program prog        : Sets the MIDI program (patch) number for\n\</span></div>
<div class="line"><span class="stringliteral">                         the current out channel (only if a single\n\</span></div>
<div class="line"><span class="stringliteral">                         channel is selected)\n\</span></div>
<div class="line"><span class="stringliteral">   print on/off        : Turns on and off the printing of incoming\n\</span></div>
<div class="line"><span class="stringliteral">                         messages\n\</span></div>
<div class="line"><span class="stringliteral">   status              : Prints the status of the thru\n\</span></div>
<div class="line"><span class="stringliteral">   help                : Prints this help screen\n\</span></div>
<div class="line"><span class="stringliteral">   quit                : Exits\n\n\</span></div>
<div class="line"><span class="stringliteral">   MIDI channels are numbered 0 .. 15, and -1 stands for \&quot;all channels\&quot;&quot;</span>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//                              M A I N                         //</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv ) {</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        thru = <span class="keyword">new</span> <a class="code hl_class" href="class_m_i_d_i_thru.html">MIDIThru</a>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line">        <span class="comment">// tests if MIDI ports are present in the system</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The MIDIThru constructor throws an exception if in the system are not present\n&quot;</span> &lt;&lt;</div>
<div class="line">                 <span class="stringliteral">&quot;almost a MIDI in and a MIDI out ports!\n&quot;</span> &lt;&lt;</div>
<div class="line">                 <span class="stringliteral">&quot;Press a key to quit\n&quot;</span>;</div>
<div class="line">        cin.get();</div>
<div class="line">        <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// adds the thru to the MIDIManager queue</span></div>
<div class="line">    <a id="a2" name="a2"></a><a class="code hl_function" href="class_m_i_d_i_manager.html#ab79f1ed8b7f7ea3b55b95e2d9a0b51e7">MIDIManager::AddMIDITick</a>(thru);</div>
<div class="line">    <span class="comment">// plugs the MIDIProcessorPrinter into the metronome, so all MIDI message will</span></div>
<div class="line">    <span class="comment">// be printed to stdout</span></div>
<div class="line">    thru-&gt;<a id="a3" name="a3"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a20e56f1e45522116d3e693cc29c5bf30">SetProcessor</a>(&amp;printer);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;TYPE help TO GET A LIST OF AVAILABLE COMMANDS\n\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">while</span> (command != <span class="stringliteral">&quot;quit&quot;</span>)                       <span class="comment">// main loop</span></div>
<div class="line">    {</div>
<div class="line">        GetCommand();                               <span class="comment">// gets user input and splits it into command, par1, par2</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(command == <span class="stringliteral">&quot;&quot;</span>)                           <span class="comment">// empty command</span></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;ports&quot;</span>) {                   <span class="comment">// enumerates the midi ports</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a id="a4" name="a4"></a><a class="code hl_function" href="class_m_i_d_i_manager.html#ac5fbf7c0255b7bdecc32a5b06b65cb0b">MIDIManager::GetNumMIDIIns</a>()) {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;\tMIDI IN PORTS:&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#ac5fbf7c0255b7bdecc32a5b06b65cb0b">MIDIManager::GetNumMIDIIns</a>(); i++)</div>
<div class="line">                    cout &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a id="a5" name="a5"></a><a class="code hl_function" href="class_m_i_d_i_manager.html#a919ef6ffc4b3183102f28aa00b36ef43">MIDIManager::GetMIDIInName</a>(i) &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a id="a6" name="a6"></a><a class="code hl_function" href="class_m_i_d_i_manager.html#a330e53d746e07835d7e7bd7358825835">MIDIManager::GetNumMIDIOuts</a>()) {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;\tMIDI OUT PORTS:\n&quot;</span>;</div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#a330e53d746e07835d7e7bd7358825835">MIDIManager::GetNumMIDIOuts</a>(); i++)</div>
<div class="line">                    cout &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a id="a7" name="a7"></a><a class="code hl_function" href="class_m_i_d_i_manager.html#aeebfa44a8493628e34a8822cd5339452">MIDIManager::GetMIDIOutName</a>(i) &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;outport&quot;</span>) {            <span class="comment">// changes the midi out port</span></div>
<div class="line">            <span class="keywordtype">int</span> port = atoi(par1.c_str());</div>
<div class="line">            <span class="keywordtype">int</span> chan = -1;                              <span class="comment">// all channels</span></div>
<div class="line">            <span class="keywordflow">if</span> (par2.length() &gt; 0)</div>
<div class="line">                chan = atoi(par2.c_str());</div>
<div class="line">            <span class="keywordflow">if</span> (thru-&gt;<a id="a8" name="a8"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a5a04ed6bdb1f72149611ddd74fe2b7b4">SetOutPort</a>(port) &amp;&amp; thru-&gt;<a id="a9" name="a9"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a3ddfc9fb14e40061f2ff1345699154ee">SetOutChannel</a>(chan))</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Out port for MIDI thru:\nPort: &quot;</span> &lt;&lt; port &lt;&lt; <span class="stringliteral">&quot;\tChan: &quot;</span> &lt;&lt; chan &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Invalid parameters&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;inport&quot;</span>) {             <span class="comment">// changes the midi in port</span></div>
<div class="line">            <span class="keywordtype">int</span> port = atoi(par1.c_str());</div>
<div class="line">            <span class="keywordtype">int</span> chan = -1;</div>
<div class="line">            <span class="keywordflow">if</span> (par2.length() &gt; 0)</div>
<div class="line">                chan = atoi(par2.c_str());</div>
<div class="line">            <span class="keywordflow">if</span> (thru-&gt;<a id="a10" name="a10"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a912390aa07f133266fd304004c5f31ec">SetInPort</a>(port) &amp;&amp; thru-&gt;<a id="a11" name="a11"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#adc72ed4b77bf6e83c4bcddbedfdd52f6">SetInChannel</a>(chan))</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;In port for MIDI thru:\nPort: &quot;</span> &lt;&lt; port &lt;&lt; <span class="stringliteral">&quot;\tChan: &quot;</span> &lt;&lt; chan &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Invalid parameters&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;thru&quot;</span>) {               <span class="comment">// sets the MIDI thru on and off</span></div>
<div class="line">            <span class="keywordflow">if</span> (par1 == <span class="stringliteral">&quot;on&quot;</span>) {</div>
<div class="line">                thru-&gt;<a id="a12" name="a12"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#aa9a317d6b06984e143d88e38dbc53904">Start</a>();</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;MIDIthru on, from in port &quot;</span> &lt;&lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#a919ef6ffc4b3183102f28aa00b36ef43">MIDIManager::GetMIDIInName</a>(thru-&gt;<a id="a13" name="a13"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a39f763bc779e1dc7ff1508b9dec9f38c">GetInPort</a>())</div>
<div class="line">                     &lt;&lt; <span class="stringliteral">&quot; to out port &quot;</span> &lt;&lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#aeebfa44a8493628e34a8822cd5339452">MIDIManager::GetMIDIOutName</a>(thru-&gt;<a id="a14" name="a14"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a15537d3a5a0b17c56cf2e4a5fef7f4c7">GetOutPort</a>()) &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par1 == <span class="stringliteral">&quot;off&quot;</span>) {</div>
<div class="line">                thru-&gt;<a id="a15" name="a15"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a10eb55b2b4768b0ccaba6ccdb7bed079">Stop</a>();</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;MIDI thru off&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;You must specify on or off&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;program&quot;</span>) {            <span class="comment">// sets the MIDI program</span></div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prog = atoi(par1.c_str()) &amp; 0x7f;      <span class="comment">// program number</span></div>
<div class="line">            <span class="keywordtype">int</span> chan = thru-&gt;<a id="a16" name="a16"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#a75d6bb283ad86882fff7137c0d7216f0">GetOutChannel</a>();</div>
<div class="line">            <span class="keywordflow">if</span> (chan == -1)                                     <span class="comment">// OUT is set on any channel</span></div>
<div class="line">                chan = thru-&gt;<a id="a17" name="a17"></a><a class="code hl_function" href="class_m_i_d_i_thru.html#ac0382b4bf923a4969b8243f0eea48efb">GetInChannel</a>();</div>
<div class="line">            <span class="keywordflow">if</span> (chan == -1)                                     <span class="comment">// both are on any channel: no effect</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;IN and OUT set to all channels. This command has no effect!&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span> {</div>
<div class="line">                <a id="_a18" name="_a18"></a><a class="code hl_class" href="class_m_i_d_i_timed_message.html">MIDITimedMessage</a> msg;                           <span class="comment">// new message</span></div>
<div class="line">                msg.<a id="a19" name="a19"></a><a class="code hl_function" href="class_m_i_d_i_message.html#a7edc0209b59a09b4d50d8dad9da89589">SetProgramChange</a>(chan, prog);               <span class="comment">// sets it as a program change</span></div>
<div class="line">                <a id="a20" name="a20"></a><a class="code hl_function" href="class_m_i_d_i_manager.html#a520b1ab350178329a07b17a81c6a0e3d">MIDIManager::GetOutDriver</a>(thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#a15537d3a5a0b17c56cf2e4a5fef7f4c7">GetOutPort</a>())-&gt;<a id="a21" name="a21"></a><a class="code hl_function" href="class_m_i_d_i_out_driver.html#a497b9672e71323f202f815b80560b930">OutputMessage</a>(msg);</div>
<div class="line">                                                                <span class="comment">// sends it to the out port</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Sent program change &quot;</span> &lt;&lt; prog &lt;&lt; <span class="stringliteral">&quot; on port &quot;</span> &lt;&lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#a919ef6ffc4b3183102f28aa00b36ef43">MIDIManager::GetMIDIInName</a>(thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#a15537d3a5a0b17c56cf2e4a5fef7f4c7">GetOutPort</a>())</div>
<div class="line">                     &lt;&lt; <span class="stringliteral">&quot; channel &quot;</span> &lt;&lt; chan &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;print&quot;</span>) {              <span class="comment">// sets the printing of passing events on and off</span></div>
<div class="line">            <span class="keywordflow">if</span> (par1 == <span class="stringliteral">&quot;on&quot;</span>) {</div>
<div class="line">                printer.<a id="a22" name="a22"></a><a class="code hl_function" href="class_m_i_d_i_processor_printer.html#acf92babbbff8214d3db9b3ba0e4882ae">SetPrint</a>(<span class="keyword">true</span>);</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Print on (port &quot;</span> &lt;&lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#aeebfa44a8493628e34a8822cd5339452">MIDIManager::GetMIDIOutName</a>(thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#a39f763bc779e1dc7ff1508b9dec9f38c">GetInPort</a>()) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par1 == <span class="stringliteral">&quot;off&quot;</span>) {</div>
<div class="line">                printer.<a class="code hl_function" href="class_m_i_d_i_processor_printer.html#acf92babbbff8214d3db9b3ba0e4882ae">SetPrint</a>(<span class="keyword">false</span>);</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Print off&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;You must specify on or off&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;status&quot;</span>) {             <span class="comment">// prints the general thru status</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;\nTHRU STATUS:&quot;</span> &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI in port:             &quot;</span> &lt;&lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#a919ef6ffc4b3183102f28aa00b36ef43">MIDIManager::GetMIDIInName</a>(thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#a39f763bc779e1dc7ff1508b9dec9f38c">GetInPort</a>()) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI in channel:          &quot;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#ac0382b4bf923a4969b8243f0eea48efb">GetInChannel</a>() == -1)</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;all&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#ac0382b4bf923a4969b8243f0eea48efb">GetInChannel</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI out port:            &quot;</span> &lt;&lt; <a class="code hl_function" href="class_m_i_d_i_manager.html#aeebfa44a8493628e34a8822cd5339452">MIDIManager::GetMIDIOutName</a>(thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#a15537d3a5a0b17c56cf2e4a5fef7f4c7">GetOutPort</a>()) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI out channel:         &quot;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#a75d6bb283ad86882fff7137c0d7216f0">GetOutChannel</a>() == -1)</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;all&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                cout &lt;&lt; thru-&gt;<a class="code hl_function" href="class_m_i_d_i_thru.html#a75d6bb283ad86882fff7137c0d7216f0">GetOutChannel</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;MIDI thru:                &quot;</span>;</div>
<div class="line">            cout &lt;&lt; (thru-&gt;<a id="a23" name="a23"></a><a class="code hl_function" href="class_m_i_d_i_tick_component.html#a9456c1ce1d59df3b92b37e904babdb52">IsPlaying</a>() ? <span class="stringliteral">&quot;ON&quot;</span> : <span class="stringliteral">&quot;OFF&quot;</span>) &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Print incoming messages : &quot;</span>;</div>
<div class="line">            cout &lt;&lt; (printer.<a id="a24" name="a24"></a><a class="code hl_function" href="class_m_i_d_i_processor_printer.html#abf20a843ddb573a7541a16a3fe9658d4">GetPrint</a>() ? <span class="stringliteral">&quot;ON&quot;</span> : <span class="stringliteral">&quot;OFF&quot;</span>) &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command == <span class="stringliteral">&quot;help&quot;</span>)                 <span class="comment">// prints help screen</span></div>
<div class="line">            cout &lt;&lt; helpstring;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (command != <span class="stringliteral">&quot;quit&quot;</span> )                <span class="comment">// unrecognized command</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Unrecognized command&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">delete</span> thru;</div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_a330e53d746e07835d7e7bd7358825835"><div class="ttname"><a href="class_m_i_d_i_manager.html#a330e53d746e07835d7e7bd7358825835">MIDIManager::GetNumMIDIOuts</a></div><div class="ttdeci">static unsigned int GetNumMIDIOuts()</div><div class="ttdoc">Returns the number of MIDI out ports in the system.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_a520b1ab350178329a07b17a81c6a0e3d"><div class="ttname"><a href="class_m_i_d_i_manager.html#a520b1ab350178329a07b17a81c6a0e3d">MIDIManager::GetOutDriver</a></div><div class="ttdeci">static MIDIOutDriver * GetOutDriver(unsigned int n)</div><div class="ttdoc">Returns a pointer to the MIDIOutDriver with given port id.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_a919ef6ffc4b3183102f28aa00b36ef43"><div class="ttname"><a href="class_m_i_d_i_manager.html#a919ef6ffc4b3183102f28aa00b36ef43">MIDIManager::GetMIDIInName</a></div><div class="ttdeci">static const std::string &amp; GetMIDIInName(unsigned int n)</div><div class="ttdoc">Returns the system name of the given MIDI in port.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_ab79f1ed8b7f7ea3b55b95e2d9a0b51e7"><div class="ttname"><a href="class_m_i_d_i_manager.html#ab79f1ed8b7f7ea3b55b95e2d9a0b51e7">MIDIManager::AddMIDITick</a></div><div class="ttdeci">static void AddMIDITick(MIDITickComponent *tick)</div><div class="ttdoc">Inserts a MIDITickComponent object into the queue.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_ac5fbf7c0255b7bdecc32a5b06b65cb0b"><div class="ttname"><a href="class_m_i_d_i_manager.html#ac5fbf7c0255b7bdecc32a5b06b65cb0b">MIDIManager::GetNumMIDIIns</a></div><div class="ttdeci">static unsigned int GetNumMIDIIns()</div><div class="ttdoc">Returns the number of MIDI in ports in the system.</div></div>
<div class="ttc" id="aclass_m_i_d_i_manager_html_aeebfa44a8493628e34a8822cd5339452"><div class="ttname"><a href="class_m_i_d_i_manager.html#aeebfa44a8493628e34a8822cd5339452">MIDIManager::GetMIDIOutName</a></div><div class="ttdeci">static const std::string &amp; GetMIDIOutName(unsigned int n)</div><div class="ttdoc">Returns the system name of the given MIDI out port.</div></div>
<div class="ttc" id="aclass_m_i_d_i_message_html_a7edc0209b59a09b4d50d8dad9da89589"><div class="ttname"><a href="class_m_i_d_i_message.html#a7edc0209b59a09b4d50d8dad9da89589">MIDIMessage::SetProgramChange</a></div><div class="ttdeci">void SetProgramChange(unsigned char chan, unsigned char prog)</div><div class="ttdoc">Makes the message a program change message with given channel and program.</div></div>
<div class="ttc" id="aclass_m_i_d_i_out_driver_html_a497b9672e71323f202f815b80560b930"><div class="ttname"><a href="class_m_i_d_i_out_driver.html#a497b9672e71323f202f815b80560b930">MIDIOutDriver::OutputMessage</a></div><div class="ttdeci">virtual void OutputMessage(const MIDITimedMessage &amp;msg)</div><div class="ttdoc">Makes a copy of the message, processes it with the out processor and then sends it to the hardware po...</div></div>
<div class="ttc" id="aclass_m_i_d_i_processor_printer_html"><div class="ttname"><a href="class_m_i_d_i_processor_printer.html">MIDIProcessorPrinter</a></div><div class="ttdoc">A MIDIProcessor which prints a human-readable description of the processed messages to a std::ostream...</div><div class="ttdef"><b>Definition:</b> processor.h:184</div></div>
<div class="ttc" id="aclass_m_i_d_i_processor_printer_html_abf20a843ddb573a7541a16a3fe9658d4"><div class="ttname"><a href="class_m_i_d_i_processor_printer.html#abf20a843ddb573a7541a16a3fe9658d4">MIDIProcessorPrinter::GetPrint</a></div><div class="ttdeci">bool GetPrint() const</div><div class="ttdoc">Returns the printing status.</div><div class="ttdef"><b>Definition:</b> processor.h:195</div></div>
<div class="ttc" id="aclass_m_i_d_i_processor_printer_html_acf92babbbff8214d3db9b3ba0e4882ae"><div class="ttname"><a href="class_m_i_d_i_processor_printer.html#acf92babbbff8214d3db9b3ba0e4882ae">MIDIProcessorPrinter::SetPrint</a></div><div class="ttdeci">void SetPrint(bool on_off)</div><div class="ttdoc">Sets the printing on and off (default is on).</div><div class="ttdef"><b>Definition:</b> processor.h:200</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html"><div class="ttname"><a href="class_m_i_d_i_thru.html">MIDIThru</a></div><div class="ttdoc">A MIDITickComponent which immediately echoes to an out MIDI port all messages incoming from an in MID...</div><div class="ttdef"><b>Definition:</b> thru.h:46</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a10eb55b2b4768b0ccaba6ccdb7bed079"><div class="ttname"><a href="class_m_i_d_i_thru.html#a10eb55b2b4768b0ccaba6ccdb7bed079">MIDIThru::Stop</a></div><div class="ttdeci">virtual void Stop()</div><div class="ttdoc">Stops the MIDI thru.</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a15537d3a5a0b17c56cf2e4a5fef7f4c7"><div class="ttname"><a href="class_m_i_d_i_thru.html#a15537d3a5a0b17c56cf2e4a5fef7f4c7">MIDIThru::GetOutPort</a></div><div class="ttdeci">unsigned int GetOutPort() const</div><div class="ttdoc">Returns a pointer to the MIDIOutDriver to whom messages are actually being sent.</div><div class="ttdef"><b>Definition:</b> thru.h:65</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a20e56f1e45522116d3e693cc29c5bf30"><div class="ttname"><a href="class_m_i_d_i_thru.html#a20e56f1e45522116d3e693cc29c5bf30">MIDIThru::SetProcessor</a></div><div class="ttdeci">virtual void SetProcessor(MIDIProcessor *proc)</div><div class="ttdoc">Sets the out processor, which can manipulate messages arrived to the in port before they are sent to ...</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a39f763bc779e1dc7ff1508b9dec9f38c"><div class="ttname"><a href="class_m_i_d_i_thru.html#a39f763bc779e1dc7ff1508b9dec9f38c">MIDIThru::GetInPort</a></div><div class="ttdeci">unsigned int GetInPort() const</div><div class="ttdoc">Returns the number of the MIDI in port from which messages are actually being received.</div><div class="ttdef"><b>Definition:</b> thru.h:63</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a3ddfc9fb14e40061f2ff1345699154ee"><div class="ttname"><a href="class_m_i_d_i_thru.html#a3ddfc9fb14e40061f2ff1345699154ee">MIDIThru::SetOutChannel</a></div><div class="ttdeci">virtual bool SetOutChannel(int chan)</div><div class="ttdoc">Sets the channel for outgoing thru messages.</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a5a04ed6bdb1f72149611ddd74fe2b7b4"><div class="ttname"><a href="class_m_i_d_i_thru.html#a5a04ed6bdb1f72149611ddd74fe2b7b4">MIDIThru::SetOutPort</a></div><div class="ttdeci">virtual bool SetOutPort(unsigned int port)</div><div class="ttdoc">Selects the hardware out port to whom messages will be sent.</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a75d6bb283ad86882fff7137c0d7216f0"><div class="ttname"><a href="class_m_i_d_i_thru.html#a75d6bb283ad86882fff7137c0d7216f0">MIDIThru::GetOutChannel</a></div><div class="ttdeci">int GetOutChannel() const</div><div class="ttdoc">Returns the thru out channel (see SetOutChannel())</div><div class="ttdef"><b>Definition:</b> thru.h:73</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_a912390aa07f133266fd304004c5f31ec"><div class="ttname"><a href="class_m_i_d_i_thru.html#a912390aa07f133266fd304004c5f31ec">MIDIThru::SetInPort</a></div><div class="ttdeci">virtual bool SetInPort(unsigned int port)</div><div class="ttdoc">Selects the hardware in port from which messages will be received.</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_aa9a317d6b06984e143d88e38dbc53904"><div class="ttname"><a href="class_m_i_d_i_thru.html#aa9a317d6b06984e143d88e38dbc53904">MIDIThru::Start</a></div><div class="ttdeci">virtual void Start()</div><div class="ttdoc">Starts the MIDI thru.</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_ac0382b4bf923a4969b8243f0eea48efb"><div class="ttname"><a href="class_m_i_d_i_thru.html#ac0382b4bf923a4969b8243f0eea48efb">MIDIThru::GetInChannel</a></div><div class="ttdeci">int GetInChannel() const</div><div class="ttdoc">Returns the thru in channel (see SetInChannel())</div><div class="ttdef"><b>Definition:</b> thru.h:71</div></div>
<div class="ttc" id="aclass_m_i_d_i_thru_html_adc72ed4b77bf6e83c4bcddbedfdd52f6"><div class="ttname"><a href="class_m_i_d_i_thru.html#adc72ed4b77bf6e83c4bcddbedfdd52f6">MIDIThru::SetInChannel</a></div><div class="ttdeci">virtual bool SetInChannel(int chan)</div><div class="ttdoc">Sets the channel for incoming thru messages.</div></div>
<div class="ttc" id="aclass_m_i_d_i_tick_component_html_a9456c1ce1d59df3b92b37e904babdb52"><div class="ttname"><a href="class_m_i_d_i_tick_component.html#a9456c1ce1d59df3b92b37e904babdb52">MIDITickComponent::IsPlaying</a></div><div class="ttdeci">bool IsPlaying() const</div><div class="ttdoc">Returns true if the callback procedure is active.</div><div class="ttdef"><b>Definition:</b> tick.h:92</div></div>
<div class="ttc" id="aclass_m_i_d_i_timed_message_html"><div class="ttname"><a href="class_m_i_d_i_timed_message.html">MIDITimedMessage</a></div><div class="ttdoc">The MIDITimedMessage class inherits from the MIDIMessage and represents a message associated with a s...</div><div class="ttdef"><b>Definition:</b> msg.h:379</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
